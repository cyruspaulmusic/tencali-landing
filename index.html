<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tencali Landing v01</title>
<style>
  * { box-sizing: border-box; margin: 0; padding: 0; }
  html, body { width: 100%; height: 100%; font-family: sans-serif; background: #fff; display: flex; justify-content: center; align-items: center; overflow: hidden; }

  .page { position: absolute; width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; flex-direction: column; background: #fff; transition: opacity 1s ease; }
  .hidden { opacity: 0; pointer-events: none; }
  .visible { opacity: 1; pointer-events: all; }

  /* Página 1 — Código */
  #codePage input { 
    width: 60px; height: 60px; margin: 0 10px; font-size: 2rem; text-align: center; border: 2px solid #000; 
  }

  @keyframes shake {
    0% { transform: translateX(0); }
    25% { transform: translateX(-5px); }
    50% { transform: translateX(5px); }
    75% { transform: translateX(-5px); }
    100% { transform: translateX(0); }
  }
  .shake { animation: shake 0.3s; }

  /* Página 2 — Imagen + Textos */
  #arrivedPage img { max-width: 80%; max-height: 60%; opacity: 0; transform: scale(1.1); transition: opacity 2s ease, transform 2s ease; }
  #arrivedPage h2, #arrivedPage h1 { opacity: 0; transition: opacity 2s ease; }

  #title { font-size: 2rem; margin-bottom: 10px; }
  #mainText { font-size: 3rem; margin-top: 20px; }
</style>
</head>
<body>

<!-- Página 1 -->
<div id="codePage" class="page visible">
  <div>
    <input type="text" maxlength="1" />
    <input type="text" maxlength="1" />
    <input type="text" maxlength="1" />
    <input type="text" maxlength="1" />
  </div>
</div>

<!-- Página 2 -->
<div id="arrivedPage" class="page hidden">
  <h2 id="title">Tencali</h2>
  <img src="Tencali_0061.jpg" alt="Tencali">
  <h1 id="mainText">Acabo De | Llegar</h1>
  <audio id="audio" src="TCO_Ascension_PAGINA WEB_v01.wav"></audio>
</div>

<script>
const codePage = document.getElementById('codePage');
const arrivedPage = document.getElementById('arrivedPage');
const inputs = codePage.querySelectorAll('input');
const correctCode = ['G','E','0','0'];

const img = arrivedPage.querySelector('img');
const title = document.getElementById('title');
const text = document.getElementById('mainText');
const audio = document.getElementById('audio');

// Validación del código
function checkCode() {
  const entered = Array.from(inputs).map(i => i.value.toUpperCase());
  if(entered.join('') === correctCode.join('')) {
    codePage.classList.remove('visible');
    codePage.classList.add('hidden');
    setTimeout(showArrivedPage, 1000);
  } else {
    codePage.classList.add('shake');
    setTimeout(() => codePage.classList.remove('shake'), 300);
    inputs.forEach(i => i.value = '');
  }
}

// Mostrar Página 2
function showArrivedPage() {
  arrivedPage.classList.remove('hidden');
  arrivedPage.classList.add('visible');

  // Animaciones de imagen y textos
  setTimeout(() => img.style.opacity = 1, 100);
  setTimeout(() => img.style.transform = 'scale(1)', 100);
  setTimeout(() => title.style.opacity = 1, 500);
  setTimeout(() => text.style.opacity = 1, 1000);

  // Reproducir audio UNA SOLA VEZ
  audio.currentTime = 0;
  audio.play();

  // Cuando termina, volver a Página 1
  audio.onended = () => {
    fadeOutArrivedPage();
  };
}

// Fade-out y regreso a Página 1
function fadeOutArrivedPage() {
  arrivedPage.classList.remove('visible');
  arrivedPage.classList.add('hidden');

  setTimeout(resetToPage1, 1000);
}

// Reset Página 1
function resetToPage1() {
  inputs.forEach(i => i.value = '');
  img.style.opacity = 0;
  img.style.transform = 'scale(1.1)';
  title.style.opacity = 0;
  text.style.opacity = 0;

  codePage.classList.remove('hidden');
  codePage.classList.add('visible');
}

// Eventos para inputs
inputs.forEach((input, idx) => {
  input.addEventListener('input', () => {
    if(input.value.length === 1 && idx < inputs.length-1){
      inputs[idx+1].focus();
    }
    if(Array.from(inputs).every(i => i.value.length === 1)){
      checkCode();
    }
  });
});
</script>
</body>
</html>
